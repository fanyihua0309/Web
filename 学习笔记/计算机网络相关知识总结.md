### 1.DNS解析的过程？URL 和 域名有什么区别？

前置知识

**主机向本地域名服务器一般采用递归查询**（如果主机询问的本地域名服务器不知道被查询域名的IP地址，那么本地域名服务器代替该主机向其他根域名服务器继续查询，而不是让主机自己进行下一步的查询）

**本地域名服务器向根域名服务器一般采用迭代查询**（根域名服务器告诉本地域名服务器下一步应当向哪一个域名服务器进行查询，让它自己进行后续的查询，而不是代替它查询）

因此实际的查询是递归与迭代相结合的查询。

为了提高效率，每个域名服务器维护一个**名字的高速缓存**。当用户向域名服务器发起域名解析请求时，服务器首先检查它是否被授权管理该名字，若未被授权，则查看自己的高速缓存，检查该名字是否被解析过，若有，则可以直接向用户返回域名与IP的绑定信息，若没有，再进行后续的查询。



具体过程

```
参考链接
https://blog.csdn.net/Lammonpeter/article/details/81358387
```

1.检查浏览器缓存，若存在当前域名被解析过的IP地址，则解析结束

2.检查系统缓存，如windows系统的hosts文件，如果存在当前域名被解析过的IP地址，则解析结束

3.检查本地域名服务器缓存，若存在当前域名被解析过的IP地址，则解析结束

4.否则，本地域名服务器向根域名服务器发起解析请求

5.根域名服务器返回顶级域名地址

6.本地域名服务器向顶级域名服务器发起解析请求

7.顶级域名服务器返回二级域名地址

8.本地域名服务器向权限域名服务器发起解析请求（按照从根到顶级，二级……一直到最后一级域名的顺序查找）

（权限域名服务器这里我还没有太懂，应该是除了本地域名服务器、根域名服务器、顶级域名服务器，其他都叫权限域名服务器）

![在这里插入图片描述](https://img-blog.csdnimg.cn/2020041718590979.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkxNDYwNA==,size_16,color_FFFFFF,t_70)

```
参考链接
https://blog.csdn.net/weixin_43914604/article/details/105583806?utm_term=%E6%9D%83%E9%99%90%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-0-105583806&spm=3001.4430
```

……

重复上述请求和响应的过程，直到某个域名服务器返回当前域名对应的IP地址，返回给本地域名服务器

本地域名服务器缓存解析结果，返回解析结果给用户，用户主机终于得到了IP地址！

另：缓存的时间涉及到一个属性TTL（Time to leave），类似于路由器规定的最多能经过的跳数，规定了缓存时间，一个域名与IP的对应不可能永远缓存在浏览器或域名服务器中，缓存有大小和时间的限制。



URL和域名是包含与被包含的关系，即URL中包含了域名，域名是URL中的一部分。如

```
Request URL: https://developer.mozilla.org/api/v1/whoami
```

URL是 `https://developer.mozilla.org/api/v1/whoami`，URL描述一个资源在万维网上的地址，一个URL唯一标识一个Web资源，可以用来定位网页,多媒体文件等。

域名是`developer.mozilla.org`，其中`org`是顶级域名，`mozilla`是二级域名，`developer`是三级域名，以此类推，域名结构是层次树状结构。另外，若有一个网址`www.baidu.com`中`www`一般用作是首页标识（www是不是域名呢？）。



### 2.服务器是什么？我们的电脑不能用来作为服务器吗？

服务器是存储网页，站点和应用的计算机。需要具备高处理能力，高存储能力，高可靠性，高稳定性，高容错能力，易维护性等，我们自己的电脑配置较低无法满足这些要求，但若只响应较为简单数据量小的请求，也可以作为服务器使用。



### 3.局域网和广域网和城域网区别

主要的区别是覆盖范围不同：

局域网的覆盖范围为10公里以内，应用于大学校园、办公大楼等；

广域网的覆盖范围从几十公里到几千公里，能连接多个城市或国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络；

城域网的覆盖范围一般为一个城市，10到100公里。



### 4.TCP三次握手是怎么回事、HTTP协议是什么

TCP三次握手发生在建立连接的过程中，连接建立过程要解决的问题：要使每一方都确知对方的存在，允许双方协商一些参数（最大窗口大小、最大报文段长度等），对传输实体资源进行分配（如缓冲区大小）。若只两次握手，可能出现重复连接的问题，比如客户端发出一个连接请求，服务器端返回一个确认，但确认传输回客户端的时间超出了客户端设定的定时器时间，那么客户端就会发起一个重复连接请求。而三次握手可以解决这个问题。（为啥可以解决呢？）

<img src="file:///C:\Users\26840\Documents\Tencent Files\2684096603\Image\C2C\{46B2ACE1-6B71-CB60-DEB2-45EC288C03E7}.png" alt="img" style="zoom: 67%;" />

ACK、SYN是TCP报文中的一个比特，ACK置1表示确认号有效，SYN置1表示这是一个连接请求或连接接受报文。



HTTP：超文本传输协议是一个定义客户端和服务器间交流的语言的协议。用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。使用面向连接的TCP向上提供的服务。是万维网上可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础，HTTP协议工作于客户端-服务端架构为上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服务器根据接收到的请求后，向客户端发送响应信息。



### 理解了以上知识点后，试着自己回答：从浏览器里输入URL到最终看到页面的过程，具体发生了什么？

1.浏览器分析超链指向页面的URL（这句话是在我们上课的PPT找到的，是浏览器根据域名可以自己获取到URL吗，可是URL包含的内容比域名多，怎么做到的？还是用户本来输入的内容就是URL）

2.浏览器向DNS请求解析域名的IP地址

3.域名系统DNS解析出对应服务器的IP地址

4.根据IP地址，浏览器与服务器三次握手建立TCP连接

5.浏览器发出取html文件的请求（HTTP请求报文）

6.服务器给出响应，把文件index.html的拷贝发给浏览器（HTTP响应报文）

7.传输数据完毕，TCP连接释放

8.浏览器将返回的index.html在页面中渲染出来

