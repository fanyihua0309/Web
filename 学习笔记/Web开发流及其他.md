## Web开发流及各岗位的主要职责

### 一、确定项目功能

**产品经理**：把客户提出的项目需求整理成具体功能，画一个原型，画出功能框架

**UI设计师/工程师**：把产品经理提出的功能弄成设计图，进一步明晰项目功能

### 二、开发阶段

**前端开发**：调用接口请求数据，在页面展示

**后端开发**：设计数据库的表，提供接口

**测试**：测试项目功能，发现问题，前端后端开发人员再修改，直到测试通过

### 三、发布阶段

**后端发布**：我们自己的电脑连接局域网，无法被其他人访问。因此首先需要一台服务器，服务器要满足的基本要求是：1.连接广域网，可以在互联网中被访问；2.一直保持开机。可以购买一些平台提供的服务器服务，租用一定期限的使用权，把应用架设在服务器上，把后端的数据暴露在定义的端口（比如3000端口），使前端开发者可以通过服务器的IP地址+端口请求到数据。

**前端发布**：以React框架开发的前端应用为例，先运行`npm run build`转义成浏览器可以理解的html/css/js文件，把build之后的包传给服务器，把前端应用暴露在定义的端口（比如4000端口），使用户可以通过服务器的IP地址+端口访问应用。

### 四、运维

**运维**：（有时候也放在后端部分）当海量用户同时访问网站，需要考虑负载均衡，并发处理相关的事情，保证网站能正常运行不崩溃



## HTTP状态码

HTTP状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字没有分类的作用。HTTP状态码共分为5种类型：

| 分类 | 分类描述                                       |
| :--- | :--------------------------------------------- |
| 1**  | 信息，服务器收到请求，需要请求者继续执行操作   |
| 2**  | 成功，操作被成功接收并处理                     |
| 3**  | 重定向，需要进一步的操作以完成请求             |
| 4**  | 客户端错误，请求包含语法错误或无法完成请求     |
| 5**  | 服务器错误，服务器在处理请求的过程中发生了错误 |

下面是常见的HTTP状态码：

- 200 - 请求成功
- 301 - 资源（网页等）被永久转移到其它URL
- 404 - 请求的资源（网页等）不存在
- 500 - 内部服务器错误



## 跨源资源共享 (CORS) 

**先来看看MDN文档中关于CORS的介绍**

**CORS** （Cross-Origin Resource Sharing，跨域资源共享）是一个系统，它由一系列传输的[HTTP头](https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP_header)组成，这些HTTP头决定浏览器是否阻止前端 JavaScript 代码获取跨域请求的响应。

同源安全策略默认阻止“跨域”获取资源。但是 CORS 给了web服务器这样的权限，即服务器可以选择，允许跨域请求访问到它们的资源。

[参考链接]: https://developer.mozilla.org/zh-CN/docs/Glossary/CORS	"CORS"



**跨源资源共享** (CORS) （或通俗地译为跨域资源共享）是一种基于HTTP头的机制，该机制通过允许服务器标示除了它自己以外的其它origin（域，协议和端口），这样浏览器可以访问加载这些资源。跨源资源共享还通过一种机制来检查服务器是否会允许要发送的真实请求，该机制通过浏览器发起一个到服务器托管的跨源资源的"预检"请求。在预检中，浏览器发送的头中标示有HTTP方法和真实请求中会用到的头。

[参考链接]: https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS	"跨源资源共享（CORS）"



**用自己的话总结CORS**

浏览器是个公共应用，而Web App是私人应用，出于安全考虑，为了避免非法的操作（比如跨站脚本攻击），浏览器有同源策略，即只允许获取同源的资源，同源指协议、域名、端口均相同。

但在开发的过程中，有时候的确需要访问不同源的资源，比如前端应用需要请求数据访问后端接口。为了解决浏览器同源策略限制太过的问题，于是需要CORS（跨域资源共享）策略，服务器端提前在HTTP请求头部指明哪些源、哪些请求方法（get/post/patch等）的前端可以正常请求，让浏览器放行。

需要注意的是同源策略并不会阻止请求的发出，请求会正常发出，服务器接收之后响应，此时浏览器拿到响应，会根据HTTP请求头的内容判断本次请求是否在允许的范围内，如果在会返回给前端，前端即拿到需要的数据；如果不在，浏览器将包截住，控制台打印请求报错信息，看起来就好像在请求发出的时候就被拦截了，事实上并非如此。

下图是请求被成功接收并处理，response的头部信息：

![image-20210504095436893](C:\Users\26840\AppData\Roaming\Typora\typora-user-images\image-20210504095436893.png)

红色方框内的内容就是实现跨域资源共享的关键，服务器端需要提前指定这四项内容：

```
Access-Control-Allow-Credentials
//表示是否可以将对请求的响应暴露给页面。返回true则可以，其他值均不可以。
Access-Control-Allow-Headers
//允许请求的头部
Access-Control-Allow-Methods
//允许请求的方法
Access-Control-Allow-Origin
//允许请求的源
```

不在允许范围之内的请求就会被浏览器拦截下来。





## 单页应用(SPA)、多页应用(MPA)

**英文解释**

- **单页面应用**：SinglePage Web Application，**简称 SPA**
- **多页面应用**：MultiPage Application，**简称 MPA**

**定义区分**

**（1）单页面应用**

只有一个WEB主页面的应用，公共资源(js、css等)仅需加载一次，所有的内容都包含在主页面，对每一个功能模块组件化。单页应用跳转，就是切换相关组件，仅刷新局部资源。常用于PC端官网、购物等网站。

- 优点： 页面切换快
- 缺点： 首屏时间稍慢，SEO差
- 常用于PC端官网、购物等网站。

**（2）多页面应用**

有多个独立的页面的应用，每个公共资源(js、css等)需选择性重新加载，多页面跳转刷新所有资源。常用于 app 或 客户端等。

- 页面跳转： 返回HTML

- 优点： 首屏时间快，SEO效果好

- 缺点： 页面切换慢

- 常用于 app 或 客户端等

  **如图所示：**

（1）单页应用模型示意图：

![img](https://img2020.cnblogs.com/blog/1908917/202005/1908917-20200516115904462-948396146.png)

（2）多页应用模型示意图：

![img](https://img2020.cnblogs.com/blog/1908917/202005/1908917-20200516115942487-1141183263.png)

 

**表格对比：**

**![img](https://img2020.cnblogs.com/blog/1908917/202005/1908917-20200516120025212-781752651.png)ps 由于单页应用模块的众多优点，其已经成为web应用开发的潮流，特别是移动已用开发方向







